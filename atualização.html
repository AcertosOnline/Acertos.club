<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Acertos Club</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <style>
    h1 { display: none; }
    html, body { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; }
    iframe { width: 100%; height: 100%; border: none; }

    .menu-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background: #333;
      color: #fff;
      font-size: 30px;
      text-align: center;
      line-height: 50px;
      border-radius: 50%;
      cursor: grab;
      z-index: 1000;
      transition: transform 0.3s ease;
      user-select: none;
    }
    .floating-menu {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 999;
      transform: scale(0);
      transition: transform 0.3s ease;
      overflow: hidden;
    }
    .floating-menu.active {
      display: flex;
      transform: scale(1);
    }
    .menu-content {
      text-align: center;
      max-height: 80%; /* Define o tamanho máximo do menu */
      overflow-y: auto; /* Permite rolagem vertical */
      -webkit-overflow-scrolling: touch; /* Suaviza a rolagem em dispositivos móveis */
      scrollbar-width: none; /* Oculta a barra de rolagem no Firefox */
    }
    .menu-content::-webkit-scrollbar {
      display: none; /* Oculta a barra de rolagem no Chrome e Safari */
    }

    .menu-content button {
      padding: 15px 30px;
      margin: 10px;
      font-size: 18px;
      cursor: pointer;
    }
    .menu-content a {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      font-size: 18px;
      text-decoration: none;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
    }
    .menu-content a:hover {
      text-decoration: underline;
    }
    .hidden { display: none; }

    /* Estilo para exibir palpites em 5 colunas */
    .palpites-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr); /* 5 colunas */
      gap: 10px;
      margin-top: 20px;
    }
    .palpites-grid span {
      background-color: #444;
      color: #fff;
      padding: 10px;
      text-align: center;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <h1>Acertos.club</h1>
  <iframe src="https://app.acertos.club/pr/CRTgB0ZV" allow="clipboard-read; clipboard-write" title="app.acertos.club"></iframe>

  <div class="menu-btn" id="menuBtn">☰</div>
  <div class="floating-menu" id="floatingMenu">
    <div class="menu-content" id="menuContent">
      <p>Contato: contato@acertos.club</p>
      <button id="palpitesBtn">Palpites</button>
    </div>
    <div class="menu-content hidden" id="bancasList">
      <div id="bancas"></div>
      <a href="#" id="backBtn">Voltar</a>
    </div>
    <div class="menu-content hidden" id="palpitesList">
      <div id="palpites"></div>
      <a href="#" id="backToBancasBtn">Voltar</a>
    </div>
  </div>

  <script>
    const menuBtn = document.getElementById('menuBtn');
    const floatingMenu = document.getElementById('floatingMenu');
    const menuContent = document.getElementById('menuContent');
    const bancasList = document.getElementById('bancasList');
    const palpitesList = document.getElementById('palpitesList');
    const bancasDiv = document.getElementById('bancas');
    const palpitesDiv = document.getElementById('palpites');
    const palpitesBtn = document.getElementById('palpitesBtn');
    const backBtn = document.getElementById('backBtn');
    const backToBancasBtn = document.getElementById('backToBancasBtn');

    let isMenuOpen = false;

    // Detecta cliques no botão do menu
    menuBtn.addEventListener('click', () => {
      if (isMenuOpen) {
        floatingMenu.classList.remove('active');
        setTimeout(() => floatingMenu.style.display = 'none', 300);
      } else {
        floatingMenu.style.display = 'flex';
        setTimeout(() => floatingMenu.classList.add('active'), 0);
      }
      isMenuOpen = !isMenuOpen;
    });

    // Lógica para exibir bancas e palpites
    palpitesBtn.addEventListener('click', async () => {
      menuContent.classList.add('hidden');
      bancasList.classList.remove('hidden');
      try {
        const response = await fetch('https://app.acertosonline.com/palpites.js');
        const scriptText = await response.text();

        const scriptElement = document.createElement('script');
        scriptElement.textContent = scriptText;
        document.body.appendChild(scriptElement);

        if (typeof palpites === 'undefined') {
          throw new Error('Os dados não foram carregados corretamente.');
        }

        bancasDiv.innerHTML = '';
        Object.keys(palpites).forEach((banca) => {
          const btn = document.createElement('button');
          btn.textContent = banca;
          btn.onclick = () => showPalpites(banca);
          bancasDiv.appendChild(btn);
        });
      } catch (error) {
        console.error('Erro ao carregar as bancas:', error);
        alert('Erro ao carregar as bancas. Verifique o arquivo palpites.js.');
      }
    });

    function showPalpites(banca) {
      bancasList.classList.add('hidden');
      palpitesList.classList.remove('hidden');
      const { palpites: palpitesArray, frases } = palpites[banca] || {};
      if (!palpitesArray || !frases) {
        palpitesDiv.innerHTML = '<p>Erro ao carregar os palpites ou frases.</p>';
        return;
      }

      // Renderiza os palpites e frases
      palpitesDiv.innerHTML = `
        <h2>Palpites para ${banca}:</h2>
        <div class="palpites-grid">
          ${palpitesArray.map(palpite => `<span>${palpite}</span>`).join('')}
        </div>
        <h3>Acertos dos palpites anteriores:</h3>
        <p>${frases.join('<br>')}</p>`;
    }

    backBtn.addEventListener('click', () => {
      bancasList.classList.add('hidden');
      menuContent.classList.remove('hidden');
    });

    backToBancasBtn.addEventListener('click', () => {
      palpitesList.classList.add('hidden');
      bancasList.classList.remove('hidden');
    });


    // Funcionalidade de arrastar o ícone do menu
    let offsetX = 0, offsetY = 0;

    menuBtn.addEventListener('touchstart', (e) => {
      if (e.touches.length === 1) {
        const touch = e.touches[0];
        offsetX = touch.clientX - menuBtn.getBoundingClientRect().left;
        offsetY = touch.clientY - menuBtn.getBoundingClientRect().top;
        isDragging = true;
      }
    });

    document.addEventListener('touchmove', (e) => {
      if (isDragging && e.touches.length === 1) {
        const touch = e.touches[0];
        let newX = touch.clientX - offsetX;
        let newY = touch.clientY - offsetY;

        // Limita o movimento para dentro da tela
        const maxX = window.innerWidth - menuBtn.offsetWidth;
        const maxY = window.innerHeight - menuBtn.offsetHeight;
        newX = Math.max(0, Math.min(newX, maxX));
        newY = Math.max(0, Math.min(newY, maxY));

        menuBtn.style.left = `${newX}px`;
        menuBtn.style.top = `${newY}px`;
        menuBtn.style.position = 'fixed';
      }
    });

    document.addEventListener('touchend', () => {
      isDragging = false;
    });
  </script>
</body>
</html>
